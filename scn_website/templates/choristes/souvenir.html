{% load wagtailcore_tags wagtailimages_tags static %}

<div class="header">


</div>

<div>
    <h2>{{ souvenir.name }}</h2>
    <p><strong>Date:</strong> {{ souvenir.date }}</p>
    <p><strong>Lieu:</strong> {{ souvenir.place }}</p>
    <p><strong>Description:</strong> {{ souvenir.description }}</p>

    <div>{{ page.narration|richtext }}</div>

    <div>
        <div x-data="{ activeSlide: 0, slides: {{ souvenir.image_gallery|length }} }" class="carousel">
            <div id="default-carousel" class="relative w-full" data-carousel="slide">
                <div id="slides" class="relative h-96 overflow-hidden rounded-lg md:h-256 bg-gray-200">

                    {% for block in souvenir.image_gallery %}

                        <div x-show="activeSlide === {{ forloop.counter0 }}" class="carousel-item"
                             data-carousel-item>
                            <img src="{{ block.value.file.url }}" alt=" {{ block.value }}"
                                 class="absolute block max-h-full
                                 rounded-lg my-auto mx-auto object-contain left-1/2 top-1/2
                                 transform -translate-x-1/2 -translate-y-1/2">
                        </div>

                    {% endfor %}
                </div>


                <div class="indicators" class="my-12 flex justify-center">
                    {% for i in souvenir.image_gallery %}
                        <button @click="activeSlide = {{ forloop.counter0 }}"
                                class="w-6 h-6 rounded-full mx-3" aria-current="true"
                                :class="{'bg-pink-500': activeSlide === {{ forloop.counter0 }}, 'bg-lime-400': activeSlide !== {{ forloop.counter0 }}}">
                        </button>
                    {% endfor %}
                </div>

                <button @click="activeSlide = activeSlide === 0 ? slides - 1 : activeSlide - 1"
                        aria-label="Previous slide"
                        type="button"
                        class="absolute top-0 start-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
                >

        <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
            <svg class="w-4 h-4 text-white dark:text-gray-800 rtl:rotate-180" aria-hidden="true"
                 xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M5 1 1 5l4 4"/>
            </svg>
            <span class="sr-only">Previous</span>
        </span>
                </button>


                <button @click="activeSlide = activeSlide === slides - 1 ? 0 : activeSlide + 1"
                        aria-label="Next slide"
                        type="button"
                        class="absolute top-0 end-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
                        data-carousel-next>
                    <span
                            class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
                    <svg class="w-4 h-4 text-white dark:text-gray-800 rtl:rotate-180" aria-hidden="true"
                         xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="m1 9 4-4-4-4"/>
                    </svg>
                    <span class="sr-only">Next</span>
                    </span>
                </button>

            </div>
        </div>

        <h3>Documents</h3>
        <div>
            {% for block in souvenir.document_gallery %}
                <a href="{{ block.value.url }}">{{ block.value.title }}</a>
            {% endfor %}
        </div>
    </div>
