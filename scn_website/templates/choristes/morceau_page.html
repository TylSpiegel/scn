{% extends "base.html" %}
{% load wagtailimages_tags wagtailcore_tags static %}

{% block content %}

	<a href="..">Revenir à la page des morceaux</a>

	<div class="flex flex-wrap items-center">

		<!--      SIDEBAR   -->
		<!--
		<div class="hidden md:block md:col-span-1 md:row-start-1">
			<div class="absolute">
				<div id="toc"
				     class="toc bg-white shadow-lg rounded-lg p-4 m-2
		      sticky top-10 ">
					<ul class="list-none space-y-2">
						<li><a href="#title"
						       class="toc-link text-2xl hover:text-gray-800 transition duration-300">{{ page.title }}</a>
						</li>
						<li><a href="#files"
						       class="toc-link text-blue-600 hover:text-blue-800 transition duration-300">Fichiers</a>
						</li>
						{% if page.interpretation %}
							<li><a href="#interpretation"
							       class="toc-link text-blue-600 hover:text-blue-800 transition duration-300">Texte
								et traduction</a></li>
						{% endif %}
						{% if page.traduction %}
							<li><a href="#traduction"
							       class="toc-link text-blue-600 hover:text-blue-800 transition duration-300">Interprétation</a>
							</li>
						{% endif %}
					</ul>
				</div>
			</div>
		</div>

		-->


		<div class="container w-4/6 items-center">

			<section id="title" class="mt-0 rounded-xl">
				<div class="p-4 bg-sky-700 text-white text-3xl rounded-xl">
					<h1 class="mt-2">{{ page.title }}</h1>
					<h3 class="text-2xl"><em>- {{ self.compositeur }}</em></h3>
				</div>
			</section>

			<!-- ################        FICHIERS           ################        -->

			<section id="files" class="content-box">
				<div class="content-box-title">
					<h3 class="text-white shadow-lg">Fichiers à télécharger</h3>
				</div>
				<div class="content-content">
					<div class="grid md:grid-cols-5 gap-6">
						{% if page.pdf %}
							<div class="flex flex-col items-center p-4">
								<a href="{{ page.pdf.url }}" target="_blank">
									<img src="{% static 'medias/music-sheet.png' %}" alt="music sheet icon"
									     class="w-16 h-auto">
								</a>
								<p>Partition</p>
							</div>
						{% endif %}

						{% for audio in page.audios %}
							<div class="flex flex-col items-center p-4">
								<a href="{{ audio.value.audio.url }}" target="_blank">
									<img src="{% static 'medias/sound.png' %}" alt="logo audio" class="w-16 h-auto">
								</a>
								<p>{{ audio.value.pupitre }}</p>
							</div>
						{% endfor %}
					</div>
				</div>
			</section>

			<!----- DEBUT PRESENTATION   -------->
			{% if page.descr %}
				<section id="descr" class="content-box">
					<div class="content-box-title">
						<h3 class="text-white shadow-lg">Présentation de l'oeuvre</h3>
					</div>
					<div class="content-content">{{ page.descr|richtext }}</div>
				</section>
			{% endif %}

			<!----- FIN PRESENTATION   -------->

			<!----- DEBUT INTERPRETATION   -------->

			{% if page.interpretation %}
				<section id="commentaire" class="content-box">
					<div class="content-box-title">
						<h3 class="text-white shadow-lg">Commentaires sur la chanson</h3>
					</div>
					<div class="content-content">{{ page.interpretation|richtext }}</div>
				</section>

			{% endif %}

			<!----- FIN INTERPRETATION   -------->


			<!----- DEBUT TRADUCTION   -------->
			{% if page.traduction %}
				<section id="interpretation" class="content-box">
					<div class="content-box-title">
						<h3 class="text-white shadow-lg">Texte et traduction</h3>
					</div>
					<div class="content-content">
						{{ page.traduction|richtext }}
					</div>
				</section>
			{% endif %}
			<!----- FIN TRADUCTION   -------->
		</div>
	</div>

{% endblock %}

{% block extra_js %}

{% endblock %}