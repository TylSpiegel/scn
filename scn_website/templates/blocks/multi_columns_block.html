{% load wagtailcore_tags %}
{% load static %}

{% with self|length as total_columns %}
<div class="">
    <div class="container mx-auto p-4">
        <div class="{% if total_columns == 1 %} grid-cols-1
            {% elif total_columns == 2 %} grid-cols-1 sm:grid-cols-2
            {% else %}
            grid-cols-1 sm:grid-cols-2
            md:grid-cols-3
            {% endif %}
            grid gap-4
            m-5"
        >
            {% for column in self %}
                <div class="col-span-1">
                    {% include_block column %}
                </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endwith %}
